{"ast":null,"code":"var _jsxFileName = \"/Users/deethegreat/Desktop/2020-Coding-Content/Twitter-MERN-Clone/twitter-clone/client/src/components/Profile/Profile.js\";\nimport React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { getPostsByUserId, getUserProfile, followUser, unfollowUser, refreshUserProfile } from \"../../actions/profileActions\";\nimport Post from \"../Posts/Post\";\nimport LoadingPosts from \"../Posts/LoadingPosts\";\nconst styles = {\n  paper: {\n    padding: 10\n  },\n  login: {},\n  email: {\n    color: \"#888\",\n    marginBottom: 10\n  },\n  detailsBlock: {\n    display: \"flex\"\n  },\n  detail: {\n    marginRight: 5,\n    fontWeight: \"bold\"\n  },\n  detailTitle: {\n    marginLeft: 3,\n    textTransform: \"uppercase\",\n    fontSize: 10,\n    fontWeight: \"normal\"\n  },\n  btnBlock: {\n    width: \"100%\",\n    textAlign: \"right\"\n  },\n  btnFollow: {\n    backgroundColor: \"#ff0000\",\n    color: \"#fff\",\n    \"&:hover\": {\n      color: \"#ff0000\",\n      borderColor: \"#ff0000\",\n      backgroundColor: \"#fff\"\n    }\n  }\n};\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFollow = this.handleFollow.bind(this);\n    this.handleUnfollow = this.handleUnfollow.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getPostsByUserId(this.props.match.params.userId);\n    this.props.getUserProfile(this.props.match.params.userId);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.auth.isAuthenticated) {\n      if (prevProps.user.following !== this.props.user.follwing) {\n        this.refreshUserProfile(this.props.match.params.userId);\n      }\n    }\n  }\n\n  handleFollow() {\n    this.props.followUser(this.props.match.params.userId);\n  }\n\n  handleUnfollow() {\n    this.props.unfollowUser(this.props.match.params.userId);\n  }\n\n  render() {\n    const {\n      classes,\n      loadingPosts,\n      loadingProfile,\n      list,\n      auth,\n      user,\n      profile\n    } = this.props;\n    let followBtns;\n\n    if (auth.isAuthenticated) {\n      if (user.following.indexOf(this.props.match.params.userId) !== -1) {\n        followBtns = React.createElement(\"div\", {\n          className: classes.btnBlock,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"outlined\",\n          className: classes.btnFollow,\n          onClick: this.handleFollow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Follow\"));\n      } else {\n        followBtns = React.createElement(\"div\", {\n          className: classes.btnBlock,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"outlined\",\n          className: classes.btnFollow,\n          onClick: this.handleUnfollow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"Unfollow\"));\n      }\n    }\n\n    let items;\n    items = list && list.map(el => React.createElement(Post, {\n      key: el._id,\n      post: el,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }));\n    let profileInfo;\n\n    if (profile && items) {\n      profileInfo = React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: classes.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, profile.login), React.createElement(\"div\", {\n        className: classes.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, profile.email), React.createElement(\"div\", {\n        className: classes.detailsBlock,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.detail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, items.length, React.createElement(\"span\", {\n        className: classes.detailTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Posts\")), React.createElement(\"div\", {\n        className: classes.detail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, profile.followers.length, React.createElement(\"span\", {\n        className: classes.detailTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Followers\")), React.createElement(\"div\", {\n        className: classes.detail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, profile.following.length, React.createElement(\"span\", {\n        className: classes.detailTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Following\")), followBtns));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, loadingProfile ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Loading\") : profileInfo, loadingPosts ? React.createElement(LoadingPosts, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }) : items);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loadingPosts: state.post.loading,\n  list: state.post.list,\n  profile: state.profile.user,\n  loadingProfile: state.profile.loading,\n  auth: state.auth,\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  getPostsByUserId,\n  getUserProfile,\n  followUser,\n  unfollowUser,\n  refreshUserProfile\n})(withStyles(styles)(Profile));","map":{"version":3,"sources":["/Users/deethegreat/Desktop/2020-Coding-Content/Twitter-MERN-Clone/twitter-clone/client/src/components/Profile/Profile.js"],"names":["React","Component","withStyles","Paper","Button","connect","getPostsByUserId","getUserProfile","followUser","unfollowUser","refreshUserProfile","Post","LoadingPosts","styles","paper","padding","login","email","color","marginBottom","detailsBlock","display","detail","marginRight","fontWeight","detailTitle","marginLeft","textTransform","fontSize","btnBlock","width","textAlign","btnFollow","backgroundColor","borderColor","Profile","constructor","props","handleFollow","bind","handleUnfollow","componentDidMount","match","params","userId","componentDidUpdate","prevProps","auth","isAuthenticated","user","following","follwing","render","classes","loadingPosts","loadingProfile","list","profile","followBtns","indexOf","items","map","el","_id","profileInfo","length","followers","mapStateToProps","state","post","loading"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport {\n  getPostsByUserId,\n  getUserProfile,\n  followUser,\n  unfollowUser,\n  refreshUserProfile\n} from \"../../actions/profileActions\";\nimport Post from \"../Posts/Post\";\nimport LoadingPosts from \"../Posts/LoadingPosts\";\n\nconst styles = {\n  paper: {\n    padding: 10\n  },\n  login: {},\n  email: { color: \"#888\", marginBottom: 10 },\n  detailsBlock: {\n    display: \"flex\"\n  },\n  detail: {\n    marginRight: 5,\n    fontWeight: \"bold\"\n  },\n  detailTitle: {\n    marginLeft: 3,\n    textTransform: \"uppercase\",\n    fontSize: 10,\n    fontWeight: \"normal\"\n  },\n  btnBlock: {\n    width: \"100%\",\n    textAlign: \"right\"\n  },\n  btnFollow: {\n    backgroundColor: \"#ff0000\",\n    color: \"#fff\",\n    \"&:hover\": {\n      color: \"#ff0000\",\n      borderColor: \"#ff0000\",\n      backgroundColor: \"#fff\"\n    }\n  }\n};\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFollow = this.handleFollow.bind(this);\n    this.handleUnfollow = this.handleUnfollow.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getPostsByUserId(this.props.match.params.userId);\n    this.props.getUserProfile(this.props.match.params.userId);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.auth.isAuthenticated) {\n      if (prevProps.user.following !== this.props.user.follwing) {\n        this.refreshUserProfile(this.props.match.params.userId);\n      }\n    }\n  }\n\n  handleFollow() {\n    this.props.followUser(this.props.match.params.userId);\n  }\n\n  handleUnfollow() {\n    this.props.unfollowUser(this.props.match.params.userId);\n  }\n\n  render() {\n    const {\n      classes,\n      loadingPosts,\n      loadingProfile,\n      list,\n      auth,\n      user,\n      profile\n    } = this.props;\n\n    let followBtns;\n    if (auth.isAuthenticated) {\n      if (user.following.indexOf(this.props.match.params.userId) !== -1) {\n        followBtns = (\n          <div className={classes.btnBlock}>\n            <Button\n              variant=\"outlined\"\n              className={classes.btnFollow}\n              onClick={this.handleFollow}\n            >\n              Follow\n            </Button>\n          </div>\n        );\n      } else {\n        followBtns = (\n          <div className={classes.btnBlock}>\n            <Button\n              variant=\"outlined\"\n              className={classes.btnFollow}\n              onClick={this.handleUnfollow}\n            >\n              Unfollow\n            </Button>\n          </div>\n        );\n      }\n    }\n\n    let items;\n    items = list && list.map(el => <Post key={el._id} post={el} />);\n    let profileInfo;\n    if (profile && items) {\n      profileInfo = (\n        <Paper className={classes.paper}>\n          <h1 className={classes.login}>{profile.login}</h1>\n          <div className={classes.email}>{profile.email}</div>\n          <div className={classes.detailsBlock}>\n            <div className={classes.detail}>\n              {items.length}\n              <span className={classes.detailTitle}>Posts</span>\n            </div>\n            <div className={classes.detail}>\n              {profile.followers.length}\n              <span className={classes.detailTitle}>Followers</span>\n            </div>\n            <div className={classes.detail}>\n              {profile.following.length}\n              <span className={classes.detailTitle}>Following</span>\n            </div>\n            {followBtns}\n          </div>\n        </Paper>\n      );\n    }\n\n    return (\n      <div>\n        {loadingProfile ? <div>Loading</div> : profileInfo}\n        {loadingPosts ? <LoadingPosts /> : items}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  loadingPosts: state.post.loading,\n  list: state.post.list,\n  profile: state.profile.user,\n  loadingProfile: state.profile.loading,\n  auth: state.auth,\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  getPostsByUserId,\n  getUserProfile,\n  followUser,\n  unfollowUser,\n  refreshUserProfile\n})(withStyles(styles)(Profile));\n"]},"metadata":{},"sourceType":"module"}