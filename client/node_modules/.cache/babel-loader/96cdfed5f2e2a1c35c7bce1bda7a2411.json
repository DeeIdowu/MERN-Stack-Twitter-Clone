{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, SET_CURRENT_USER } from \"../constants\";\nimport setAuthHeader from \"../utils/setAuthHeader\";\nexport const loginUser = userData => dispatch => {\n  axios.post(\"http://localhost:5000/api/users/login\", userData).then(res => {\n    const {\n      token\n    } = res.data;\n    localStorage.setItem(\"jwtToken\", token);\n    setAuthHeader(token);\n    dispatch(getCurrentUser());\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n}; //check if user is registered then enable them to login to application\n\nexport const registerUser = (userData, history) => dispatch => {\n  axios.post(\"http://localhost:5000/api/users/register\", userData).then(res => history.push(\"/login\")).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\nexport const getCurrentUser = () => dispatch => {\n  axios.get(\"http://localhost:5000/api/users/\").then(res => dispatch(setCurrentUser(res.data)));\n};\nexport const setCurrentUser = data => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: data\n  };\n};\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  setAuthHeader();\n  dispatch(setCurrentUser());\n};","map":{"version":3,"sources":["/Users/deethegreat/Desktop/2020-Coding-Content/Twitter-MERN-Clone/twitter-clone/client/src/actions/authActions.js"],"names":["axios","GET_ERRORS","SET_CURRENT_USER","setAuthHeader","loginUser","userData","dispatch","post","then","res","token","data","localStorage","setItem","getCurrentUser","catch","err","type","payload","response","registerUser","history","push","get","setCurrentUser","logoutUser","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,cAA7C;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AAEA,OAAO,MAAMC,SAAS,GAAGC,QAAQ,IAAIC,QAAQ,IAAI;AAC/CN,EAAAA,KAAK,CACFO,IADH,CACQ,uCADR,EACiDF,QADjD,EAEGG,IAFH,CAEQC,GAAG,IAAI;AACX,UAAM;AAAEC,MAAAA;AAAF,QAAYD,GAAG,CAACE,IAAtB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,KAAjC;AACAP,IAAAA,aAAa,CAACO,KAAD,CAAb;AACAJ,IAAAA,QAAQ,CAACQ,cAAc,EAAf,CAAR;AACD,GAPH,EAQGC,KARH,CAQSC,GAAG,IAAI;AACZV,IAAAA,QAAQ,CAAC;AACPW,MAAAA,IAAI,EAAEhB,UADC;AAEPiB,MAAAA,OAAO,EAAEF,GAAG,CAACG,QAAJ,CAAaR;AAFf,KAAD,CAAR;AAID,GAbH;AAcD,CAfM,C,CAiBP;;AACA,OAAO,MAAMS,YAAY,GAAG,CAACf,QAAD,EAAWgB,OAAX,KAAuBf,QAAQ,IAAI;AAC7DN,EAAAA,KAAK,CACFO,IADH,CACQ,0CADR,EACoDF,QADpD,EAEGG,IAFH,CAEQC,GAAG,IAAIY,OAAO,CAACC,IAAR,CAAa,QAAb,CAFf,EAGGP,KAHH,CAGSC,GAAG,IACRV,QAAQ,CAAC;AACPW,IAAAA,IAAI,EAAEhB,UADC;AAEPiB,IAAAA,OAAO,EAAEF,GAAG,CAACG,QAAJ,CAAaR;AAFf,GAAD,CAJZ;AASD,CAVM;AAYP,OAAO,MAAMG,cAAc,GAAG,MAAMR,QAAQ,IAAI;AAC9CN,EAAAA,KAAK,CACFuB,GADH,CACO,kCADP,EAEGf,IAFH,CAEQC,GAAG,IAAIH,QAAQ,CAACkB,cAAc,CAACf,GAAG,CAACE,IAAL,CAAf,CAFvB;AAGD,CAJM;AAMP,OAAO,MAAMa,cAAc,GAAGb,IAAI,IAAI;AACpC,SAAO;AACLM,IAAAA,IAAI,EAAEf,gBADD;AAELgB,IAAAA,OAAO,EAAEP;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMc,UAAU,GAAG,MAAMnB,QAAQ,IAAI;AAC1CM,EAAAA,YAAY,CAACc,UAAb,CAAwB,UAAxB;AACAvB,EAAAA,aAAa;AACbG,EAAAA,QAAQ,CAACkB,cAAc,EAAf,CAAR;AACD,CAJM","sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS, SET_CURRENT_USER } from \"../constants\";\nimport setAuthHeader from \"../utils/setAuthHeader\";\n\nexport const loginUser = userData => dispatch => {\n  axios\n    .post(\"http://localhost:5000/api/users/login\", userData)\n    .then(res => {\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      setAuthHeader(token);\n      dispatch(getCurrentUser());\n    })\n    .catch(err => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\n//check if user is registered then enable them to login to application\nexport const registerUser = (userData, history) => dispatch => {\n  axios\n    .post(\"http://localhost:5000/api/users/register\", userData)\n    .then(res => history.push(\"/login\"))\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\nexport const getCurrentUser = () => dispatch => {\n  axios\n    .get(\"http://localhost:5000/api/users/\")\n    .then(res => dispatch(setCurrentUser(res.data)));\n};\n\nexport const setCurrentUser = data => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: data\n  };\n};\n\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  setAuthHeader();\n  dispatch(setCurrentUser());\n};\n"]},"metadata":{},"sourceType":"module"}